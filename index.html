<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>ç¾¤ç›Šä¸­å±± - æŠ•è³‡äººæ ¼æ¸¬é©—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* --- RWD å­—é«”èˆ‡åŸºç¤è¨­å®šå„ªåŒ– START --- */
body {
Â  Â  font-family:'Microsoft JhengHei',sans-serif;
Â  Â  background:#f0f2f5;
Â  Â  margin:0;
Â  Â  padding:0;
Â  Â  -webkit-text-size-adjust: 100%;
Â  Â  text-size-adjust: 100%;
Â  Â  font-size: 16px;
}
.container {
Â  Â  max-width: 800px;
Â  Â  margin: 30px auto;
Â  Â  padding: 30px;
Â  Â  background: #fff;
Â  Â  border-radius: 15px;
Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
header {
Â  Â  background:#0a3d62;
Â  Â  color:white;
Â  Â  padding:15px;
Â  Â  text-align:center;
Â  Â  display:flex; /* ä½¿ç”¨ Flexbox */
Â  Â  align-items:center; /* å‚ç›´ç½®ä¸­ */
Â  Â  justify-content:center; /* æ°´å¹³ç½®ä¸­ */
Â  Â  flex-wrap: wrap; /* å…è¨±é …ç›®æ›è¡Œï¼Œé˜²æ­¢åœ¨å°è¢å¹•ä¸Šæº¢å‡º */
}
header img {
Â  Â  /* èª¿æ•´ç‚ºæ›´å…·éŸ¿æ‡‰æ€§çš„æœ€å¤§é«˜åº¦ */
Â  Â  max-height: 45px; /* ç¨å¾®ç¸®å°ä»¥é©æ‡‰æ›´å¤šæƒ…æ³ */
Â  Â  height: auto; /* ä¿æŒåœ–ç‰‡æ¯”ä¾‹ */
Â  Â  width: auto; /* ä¿æŒåœ–ç‰‡æ¯”ä¾‹ */
Â  Â  margin-right:15px;
Â  Â  /* æ–°å¢ï¼šåœ¨å°è¢å¹•ä¸‹é¿å… Logo éå¤§ */
Â  Â  flex-shrink: 0; /* é˜²æ­¢ Logo è¢«æ“ å£“éå° */
}
header h1 {
Â  Â  font-size:1.75rem;
Â  Â  /* æ–°å¢ï¼šåœ¨å°è¢å¹•ä¸‹å…è¨±æ¨™é¡Œæ–‡å­—æ›è¡Œ */
Â  Â  flex-shrink: 1; /* å…è¨±æ¨™é¡Œæ–‡å­—ç¸®å° */
Â  Â  min-width: 0; /* è®“æ–‡å­—åœ¨ flex item ä¸­å¯ä»¥ç¸®å° */
Â  Â  text-overflow: ellipsis; /* è¶…å‡ºéƒ¨åˆ†é¡¯ç¤ºçœç•¥è™Ÿ */
Â  Â  white-space: normal; /* å…è¨±æ–‡å­—æ›è¡Œ */
}

/* é‡å°æ‰‹æ©Ÿè¢å¹•çš„åª’é«”æŸ¥è©¢ï¼Œç¸®å° container çš„ margin å’Œ padding */
@media (max-width: 768px) {
Â  Â  .container {
Â  Â  Â  Â  margin: 15px;
Â  Â  Â  Â  padding: 20px;
Â  Â  }
Â  Â  header {
Â  Â  Â  Â  padding: 10px; /* ç¸®å° header padding */
Â  Â  }
Â  Â  header img {
Â  Â  Â  Â  max-height: 40px; /* æ‰‹æ©Ÿä¸Š Logo ç¨å¾®å°ä¸€é» */
Â  Â  Â  Â  margin-right: 10px;
Â  Â  }
Â  Â  header h1 {
Â  Â  Â  Â  font-size: 1.3rem; /* æ‰‹æ©Ÿä¸Šæ¨™é¡Œå­—é«”ç¸®å° */
Â  Â  Â  Â  line-height: 1.3; /* æ”¹å–„æ›è¡Œå¾Œçš„è¡Œé«˜ */
Â  Â  }
Â  Â  .question {
Â  Â  Â  Â  font-size: 1.1rem !important;
Â  Â  }
}
/* --- RWD å­—é«”èˆ‡åŸºç¤è¨­å®šå„ªåŒ– END --- */


.question { font-size:20px; margin-bottom:20px; font-weight:500; }
.options button {Â 
Â  Â  display:block;Â 
Â  Â  width:100%;Â 
Â  Â  margin:10px 0;Â 
Â  Â  padding:12px;Â 
Â  Â  font-size:1rem;Â 
Â  Â  border:none;Â 
Â  Â  border-radius:10px;Â 
Â  Â  cursor:pointer;Â 
Â  Â  background:#3498db;Â 
Â  Â  color:white;Â 
Â  Â  transition:0.3s;Â 
Â  Â  text-align: left; /* è®“é¸é …æ–‡å­—é å·¦å°é½Š */
}
.options button:hover { background:#2c3e50; }
.progress-bar { width:100%; background:#dcdde1; border-radius:10px; overflow:hidden; margin-bottom:10px; height:22px; }
.progress { height:22px; width:0%; background:#27ae60; text-align:center; color:white; line-height:22px; font-weight:bold; transition:0.3s; }
.start-btn { background:#e67e22; color:white; padding:15px 35px; font-size:1rem; border:none; border-radius:12px; cursor:pointer; transition:0.3s; }
.start-btn:hover { background:#d35400; }
.nav-btns { display:flex; justify-content:space-between; margin-top:20px; }
.nav-btns button { padding:10px 20px; font-size:1rem; border:none; border-radius:8px; cursor:pointer; background:#34495e; color:white; transition:0.3s; }
.nav-btns button:hover { background:#2c3e50; }
.result { text-align:center; padding:20px; background:#ecf0f1; border-radius:15px; }
.result h2 { font-size:1.75rem; margin-bottom:10px; color:#2c3e50; }
.result p { font-size:1rem; margin-bottom:20px; color:#34495e; }

/* åœ“é¤…åœ–å®¹å™¨å„ªåŒ–ï¼šç¢ºä¿ Chart.js éŸ¿æ‡‰å¼ç”Ÿæ•ˆ */
#chart-wrapper {
Â  Â  max-width: 350px;
Â  Â  margin: 20px auto;
Â  Â  position: relative;
}
#pieChart { margin:0; display:block; }

#chart-desc { text-align:left; margin-top:15px; }
#chart-desc ul { list-style:none; padding:0; }
#chart-desc li { margin-bottom:8px; font-size:1rem; }
#chart-bars { display:block; margin-top:20px; }
.bar-label { font-weight:bold; margin-bottom:5px; display:flex; justify-content:space-between; font-size:0.9rem; }
.bar-container { display:flex; height:30px; border-radius:8px; overflow:hidden; margin-bottom:15px; }
.bar-segment { display:flex; align-items:center; justify-content:center; color:white; font-weight:bold; font-size: 0.8rem; }
.bar-segment span.percent-text { display: none; }

@media (max-width: 500px) {
Â  Â  .bar-segment {
Â  Â  Â  Â  font-size: 0.7rem;
Â  Â  }
Â  Â  .bar-label {
Â  Â  Â  Â  font-size: 0.8rem;
Â  Â  }
}


.footer { margin-top:30px; font-size:0.85rem; color:#7f8c8d; }
.result-btns { display:flex; justify-content:center; gap:15px; margin-bottom:20px; }
.result-btns button { padding:10px 20px; font-size:1rem; border:none; border-radius:8px; cursor:pointer; background:#e67e22; color:white; transition:0.3s; }
.result-btns button:hover { background:#d35400; }

/* æŠ•è³‡äººæ ¼åˆ†æå€å¡Šçš„æ¨£å¼ */
.analysis-section {
Â  Â  margin-top: 30px;
Â  Â  padding: 20px;
Â  Â  background: #ffffff;
Â  Â  border-radius: 10px;
Â  Â  text-align: left;
Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.analysis-section h3 {
Â  Â  font-size: 1.5rem;
Â  Â  color: #0a3d62;
Â  Â  border-bottom: 3px solid #0a3d62;
Â  Â  padding-bottom: 10px;
Â  Â  margin-bottom: 20px;
Â  Â  text-align: center;
}
.analysis-group {
Â  Â  margin-bottom: 25px;
Â  Â  padding: 15px;
Â  Â  border: 1px solid #ddd;
Â  Â  border-radius: 8px;
Â  Â  line-height: 1.8;
}
.analysis-group h4 {
Â  Â  font-size: 1.25rem;
Â  Â  margin-top: 0;
Â  Â  color: #2c3e50;
}
.analysis-group p {
Â  Â  font-size: 0.95rem;
Â  Â  margin: 5px 0;
}
.analysis-group strong {
Â  Â  color: #e67e22;
}
</style>
</head>
<body>
<header>
Â  Â  <img src="https://github.com/a55971258-ai/Mbti-quiz/blob/370f467269e7962d5752a4f3715990d45f7c6a8a/logo.png?raw=true" alt="ç¾¤ç›ŠLogo">
Â  Â  <h1>ç¾¤ç›Šä¸­å±± - æŠ•è³‡äººæ ¼æ¸¬é©—</h1>
</header>

<div class="container" id="quiz-container">
Â  Â  <div id="start-screen" style="text-align:center;">
Â  Â  Â  Â  <h2>æ­¡è¿åƒåŠ ç¾¤ç›Šä¸­å±±æŠ•è³‡äººæ ¼æ¸¬é©—ï¼</h2>
Â  Â  Â  Â  <button class="start-btn" onclick="startQuiz()">é–‹å§‹æ¸¬é©—</button>
Â  Â  </div>

Â  Â  <div id="quiz" style="display:none;">
Â  Â  Â  Â  <div class="progress-bar">
Â  Â  Â  Â  Â  Â  <div class="progress" id="progress">0%</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="question" id="question-text"></div>
Â  Â  Â  Â  <div class="options" id="options"></div>
Â  Â  Â  Â  <div class="nav-btns">
Â  Â  Â  Â  Â  Â  <button id="prev-btn" onclick="prevQuestion()">ä¸Šä¸€é¡Œ</button>
Â  Â  Â  Â  Â  Â  <button id="next-btn" onclick="nextQuestion()" style="display:none;">ä¸‹ä¸€é¡Œ</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="result" style="display:none;" class="result">
Â  Â  Â  Â  <h2 id="mbti-type"></h2>
Â  Â  Â  Â  <p id="mbti-desc"></p>

Â  Â  Â  Â  <div class="result-btns">
Â  Â  Â  Â  Â  Â  <button onclick="restartQuiz()">å†åšä¸€æ¬¡</button>
Â  Â  Â  Â  Â  Â  <button onclick="downloadResult()">ä¸‹è¼‰çµæœ</button>
Â  Â  Â  Â  Â  Â  <button onclick="openLine()">å‚³é€è‡³Line@</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="chart-wrapper">
Â  Â  Â  Â  Â  Â  <canvas id="pieChart" width="350" height="350"></canvas>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="chart-desc"></div>
Â  Â  Â  Â  <div id="chart-bars"></div>
Â  Â  Â  Â  <div id="investment-analysis" class="analysis-section">
Â  Â  Â  Â  Â  Â  <h3>æŠ•è³‡äººæ ¼åˆ†æ</h3>
Â  Â  Â  Â  Â  Â  <div class="analysis-group" data-mbti="INTJ,INTP,ENTJ,ENTP">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸ“Š åˆ†æå‹ï¼ˆINTJã€INTPã€ENTJã€ENTPï¼‰</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ç¿’æ…£é€éæ•¸æ“šä¾†åˆ¤æ–·æŠ•è³‡æ±ºç­–ï¼Œä»–å€‘ä¸å®¹æ˜“è¢«å¸‚å ´æ³¢å‹•å½±éŸ¿ï¼Œå–œæ­¡ <strong>æœ‰é‚è¼¯ã€æœ‰ç­–ç•¥</strong> çš„æŠ•è³‡æ–¹å¼ï¼Œä¾‹å¦‚INTJ å¯èƒ½æœƒé¸æ“‡ <strong>åƒ¹å€¼æŠ•è³‡</strong>ï¼Œæ·±å…¥ç ”ç©¶ä¼æ¥­è²¡å ±å’Œå¸‚å ´è¶¨å‹¢ï¼Œå†æ±ºå®šæ˜¯å¦é•·æœŸæŒæœ‰ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ æŠ•è³‡é¢¨æ ¼ï¼šç†æ€§åˆ†æã€æ•¸æ“šé©…å‹•ã€åå‘é•·ç·šæŠ•è³‡ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ å¸¸è¦‹æŠ•è³‡æ–¹å¼ï¼šåƒ¹å€¼æŠ•è³‡ã€ç§‘æŠ€è‚¡ã€æŒ‡æ•¸å‹åŸºé‡‘ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ” æŠ•è³‡ç†è²¡å»ºè­°ï¼š</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ç†æ€§èˆ‡æ•¸æ“šé©…å‹•çš„æŠ•è³‡æ–¹å¼èƒ½æœ‰æ•ˆé™ä½å¸‚å ´æƒ…ç·’å°æ±ºç­–çš„å½±éŸ¿ï¼Œä½†éåº¦åˆ†æå¯èƒ½å°è‡´éŒ¯å¤±é—œéµæŠ•è³‡æ©Ÿæœƒï¼›å»ºè­°å»ºç«‹æ˜ç¢ºçš„æŠ•è³‡è¨ˆç•«èˆ‡æ±ºç­–æ©Ÿåˆ¶ï¼Œä¾‹å¦‚è¨­å®šè²·è³£æ¢ä»¶ï¼Œé¿å…é™·å…¥ç„¡æ­¢å¢ƒçš„æ•¸æ“šè©•ä¼°ï¼Œå¦å¤–å¯ä»¥é©æ™‚é‹ç”¨å®šæœŸå®šé¡ç­–ç•¥ï¼Œåœ¨ä¸å½±éŸ¿é•·ç·šæŠ•è³‡é‚è¼¯çš„åŒæ™‚ï¼Œæ¸›å°‘é€²å ´æ™‚æ©Ÿçš„å£“åŠ›ï¼Œæé«˜æŠ•è³‡æ•ˆç‡ï¼Œé›–ç„¶åƒ¹å€¼æŠ•è³‡èˆ‡ç§‘æŠ€è‚¡æ˜¯å¼·é …ï¼Œä½†ä¹Ÿå¯é©åº¦é—œæ³¨å¸‚å ´è¶¨å‹¢èˆ‡æ–°èˆˆç”¢æ¥­ï¼Œä»¥ç¢ºä¿è³‡ç”¢é…ç½®èƒ½å…¼é¡§ç©©å¥èˆ‡æˆé•·æ€§ã€‚</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="analysis-group" data-mbti="INFJ,INFP,ENFJ,ENFP">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸª… å¤–äº¤å‹ï¼ˆINFJã€INFPã€ENFJã€ENFPï¼‰</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <p>é€™é¡å‹çš„æŠ•è³‡è€…å¸Œæœ›è‡ªå·±çš„æŠ•è³‡èƒ½å¤ ç”¢ç”Ÿç©æ¥µçš„ç¤¾æœƒå½±éŸ¿ï¼Œä¾‹å¦‚é¸æ“‡æŠ•è³‡ <strong>ç’°ä¿ç”¢æ¥­ã€ç¤¾æœƒä¼æ¥­æˆ–æ°¸çºŒç™¼å±•åŸºé‡‘</strong>ï¼Œä½†æ˜¯ä»–å€‘æœ‰æ™‚å¯èƒ½æœƒå¿½ç•¥è²¡å‹™æ•¸æ“šï¼Œè€Œå–®ç´”æ†‘æ„Ÿè¦ºæŠ•è³‡ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ æŠ•è³‡é¢¨æ ¼ï¼šé‡è¦–ç¤¾æœƒåƒ¹å€¼ã€æ„Ÿæ€§æ±ºç­–ã€è¼ƒå°‘é—œæ³¨ç´°ç¯€ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ å¸¸è¦‹æŠ•è³‡æ–¹å¼ï¼šESGï¼ˆç’°å¢ƒã€ç¤¾æœƒã€æ²»ç†ï¼‰æŠ•è³‡ã€ç¤¾æœƒè²¬ä»»åŸºé‡‘ã€‚</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="analysis-group" data-mbti="ISTJ,ISFJ,ESTJ,ESFJ">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸ©· å®ˆè­·å‹ï¼ˆISTJã€ISFJã€ESTJã€ESFJï¼‰</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <p>é€™é¡å‹çš„æŠ•è³‡è€…æ³¨é‡å®‰å…¨æ„Ÿï¼Œä¸å–œæ­¡éå¤§çš„å¸‚å ´æ³¢å‹•ï¼Œé€šå¸¸æœƒé¸æ“‡ç©©å®šå‹è³‡ç”¢ï¼Œå¦‚è—ç±Œè‚¡ã€é«˜è‚¡æ¯ ETF æˆ–å‚µåˆ¸ï¼Œä¸¦é€é <strong>å®šæœŸå®šé¡</strong> ç©ç´¯è²¡å¯Œã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ æŠ•è³‡é¢¨æ ¼ï¼šä¿å®ˆç©©å¥ã€é•·æœŸè¦åŠƒã€é¢¨éšªä½ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ å¸¸è¦‹æŠ•è³‡æ–¹å¼ï¼š ETFã€å‚µåˆ¸ã€å®šæœŸå®šé¡ã€‚</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="analysis-group" data-mbti="ISTP,ISFP,ESTP,ESFP">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>ğŸ¢ æ¢éšªå‹ï¼ˆISTPã€ISFPã€ESTPã€ESFPï¼‰</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <p>é€™é¡å‹çš„äººç†±æ„›æŒ‘æˆ°èˆ‡åˆºæ¿€ï¼Œåœ¨æŠ•è³‡å¸‚å ´ä¸Šå®¹æ˜“è¿½æ±‚é«˜é¢¨éšªã€é«˜å ±é…¬çš„æ©Ÿæœƒï¼Œä¾‹å¦‚ <strong>çŸ­ç·šäº¤æ˜“ã€åŠ å¯†è²¨å¹£æˆ–å‰µæŠ•åŸºé‡‘</strong>ï¼Œç„¶è€Œä»–å€‘ä¹Ÿå®¹æ˜“è¡å‹•æ±ºç­–ï¼Œå¿½ç•¥é¢¨éšªæ§ç®¡ã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ æŠ•è³‡é¢¨æ ¼ï¼šéˆæ´»æ‡‰è®Šã€çŸ­ç·šäº¤æ˜“ã€å‹‡æ–¼å†’éšªã€‚</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p>ğŸ“Œ å¸¸è¦‹æŠ•è³‡æ–¹å¼ï¼šçŸ­ç·šäº¤æ˜“ã€åŠ å¯†è²¨å¹£ã€æ–°å‰µæŠ•è³‡ã€‚</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="footer">ä»¥ä¸Šæ¸¬é©—çµæœåƒ…ä¾›åƒè€ƒï¼
Â  Â  Â  Â  @zoecreation</div>
Â  Â  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// *** é¡Œç›®å·²ä¿®å¾©ï¼Œå…± 20 é¡Œï¼Œçµæ§‹æ­£ç¢º ***
const questions = [
// E/I é¡Œçµ„ (5 é¡Œ)
Â  Â  {q:"1. ä¸‹ç­å¾Œçš„ä½ æ¯”è¼ƒæƒ³åšä»€éº¼ï¼Ÿ", a:["A. ç´„æœ‹å‹åƒé£¯èŠå¤©ï¼Œæ„Ÿè¦ºè·Ÿäººäº’å‹•æœ€èƒ½æ”¾é¬†ã€‚", "B. å›å®¶è‡ªå·±å……é›»ï¼Œäº«å—ä¸€å€‹äººçš„å®‰éœæ™‚é–“ã€‚"], dim:"EI"},
Â  Â  {q:"2. åƒåŠ èšæœƒæ™‚ï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ", a:["A. ä¸»å‹•è·Ÿä¸åŒäººèŠå¤©ï¼Œèªè­˜æ–°æœ‹å‹å¾ˆè‡ªç„¶ã€‚", "B. å’Œç†Ÿæ‚‰çš„äººå¾…åœ¨ä¸€èµ·è¼ƒè‡ªåœ¨ï¼Œä¸æœƒåˆ»æ„æ“´å¤§ç¤¾äº¤ã€‚"], dim:"EI"},
Â  Â  {q:"3. é‡åˆ°ç…©æƒ±æ™‚ï¼Œä½ æœƒï¼Ÿ", a:["A. æ‰¾èº«é‚Šçš„äººè¨è«–ï¼Œèªªå‡ºä¾†æ¯”è¼ƒè¼•é¬†ã€‚", "B. è‡ªå·±æ•´ç†æ€ç·’ï¼Œæƒ³æ¸…æ¥šå¾Œæ‰é¡˜æ„åˆ†äº«ã€‚"], dim:"EI"},
Â  Â  {q:"4. ä¸€ç¾¤äººä¸€èµ·è¨è«–æ™‚ï¼Œä½ å¸¸æ˜¯ï¼Ÿ", a:["A. ä¸»å‹•æå‡ºæƒ³æ³•ã€å¸¶ä¾†æ´»åŠ›èˆ‡ç¯€å¥ã€‚", "B. è§€å¯Ÿå¤§å®¶çš„åæ‡‰ï¼Œå†æå‡ºæ·±æ€å¾Œçš„æ„è¦‹ã€‚"], dim:"EI"},
Â  Â  {q:"5. å…¬å¸èˆ‰è¾¦å¤§å‹æ´»å‹•ï¼Œä½ æœƒï¼Ÿ", a:["A. äº«å—è·Ÿå¾ˆå¤šäººäº’å‹•ï¼Œæœƒä¸»å‹•åƒèˆ‡ã€‚", "B. æ‰¾å¹¾å€‹ç†Ÿæ‚‰çš„äººèŠå¤©ï¼Œæˆ–ç¨è‡ªè§€å¯Ÿæ´»å‹•ã€‚"], dim:"EI"},

Â  Â  // S/N é¡Œçµ„ (5 é¡Œ)
Â  Â  {q:"6. ä½ æ¯”è¼ƒå®¹æ˜“è¢«å¸å¼•çš„æ˜¯ï¼Ÿ", a:["A. å…·é«”çš„è³‡è¨Šã€å¯å¯¦ä½œçš„ç´°ç¯€ã€‚", "B. æ–°æ¦‚å¿µã€å¯èƒ½æ€§ã€æœªä¾†çš„æƒ³åƒæ–¹å‘ã€‚"], dim:"SN"},
Â  Â  {q:"7. è¦åŠƒè¡Œç¨‹æ™‚ï¼Œä½ æœƒï¼Ÿ", a:["A. é‡è¦–å¯¦éš›è³‡è¨Šï¼šè·¯ç·šã€äº¤é€šã€æ™‚é–“ã€è¦å‰‡ã€‚", "B. å…ˆæƒ³åƒæ•´é«”æ°›åœï¼šé€™è¶Ÿæ—…ç¨‹æƒ³è¦ä»€éº¼æ„Ÿå—ã€‚"], dim:"SN"},
Â  Â  {q:"8. åœ¨å·¥ä½œä¸Šï¼Œä½ æ›´å¸¸ï¼Ÿ", a:["A. ä¾ç…§ç¾æœ‰è³‡æ–™ã€éå¾€ç¶“é©—åšåˆ¤æ–·ã€‚", "B. çœ‹åˆ°éš±å«çš„è¶¨å‹¢ã€è¯æƒ³å‡ºæ²’èªªæ˜çš„å¯èƒ½æ€§ã€‚"], dim:"SN"},
Â  Â  {q:"9. å…¬å¸è¦æ¨å‡ºæ–°å°ˆæ¡ˆï¼Œä½ æœ€é—œæ³¨ï¼Ÿ", a:["A. è¦åšçš„å…·é«”å…§å®¹ã€æµç¨‹å’Œç´°ç¯€ã€‚", "B. é€™å€‹å°ˆæ¡ˆå¸¶ä¾†çš„é•·æœŸæ„ç¾©æˆ–é¡˜æ™¯ã€‚"], dim:"SN"},
Â  Â  {q:"10. çœ‹åˆ°æ–°ç”¢å“æ™‚ï¼Œä½ æœ€åœ¨æ„ï¼Ÿ", a:["A. å¯¦éš›åŠŸèƒ½å¥½ä¸å¥½ç”¨ã€‚", "B. æ¦‚å¿µã€è¨­è¨ˆæ•…äº‹ã€æœªä¾†çš„ç™¼å±•å¯èƒ½ã€‚", "dim":"SN"},

Â  Â  // T/F é¡Œçµ„ (5 é¡Œ)
Â  Â  {q:"11. åšæ±ºå®šæ™‚ï¼Œä½ å‚¾å‘ï¼Ÿ", a:["A. å…ˆçœ‹é‚è¼¯èˆ‡åˆ©å¼Šï¼Œä»€éº¼æ˜¯æœ€æœ‰æ•ˆçš„åšæ³•ã€‚", "B. åœ¨æ„å€‹äººæ„Ÿå—èˆ‡å½±éŸ¿åˆ°çš„äººï¼Œä»€éº¼æœ€ç¬¦åˆåƒ¹å€¼è§€ã€‚"], dim:"TF"},
Â  Â  {q:"12. è½åˆ°æœ‹å‹æŠ±æ€¨å·¥ä½œæ™‚ï¼Œä½ æ¯”è¼ƒå¯èƒ½ï¼Ÿ", a:["A. ç›´æ¥æä¾›åˆ†ææˆ–å¯¦éš›è§£æ³•ã€‚", "B. å…ˆé™ªä»–æƒ…ç·’ã€è¡¨ç¤ºç†è§£èˆ‡æ”¯æŒã€‚"], dim:"TF"},
Â  Â  {q:"13. é¢å°è¡çªæ™‚ï¼Œä½ æœƒï¼Ÿ", a:["A. å®¢è§€è«‡äº‹æƒ…ï¼Œå…ˆæŠŠå•é¡Œè¬›æ¸…æ¥šã€‚", "B. å„ªå…ˆé¡§åŠé—œä¿‚ï¼Œé¿å…è®“å°æ–¹é›£å—ã€‚"], dim:"TF"},
Â  Â  // ä¿®å¾©äº†é¡Œè™Ÿ 14 çš„ç‰©ä»¶çµæ§‹éŒ¯èª¤
Â  Â  {q:"14. æª¢è¦–è‡ªå·±çš„å·¥ä½œæˆæœæ™‚ï¼Œä½ æœƒï¼Ÿ", a:["A. æª¢æŸ¥æ˜¯å¦é‚è¼¯æ¸…æ¥šã€æ•¸æ“šæ­£ç¢ºã€‚", "B. æª¢æŸ¥æ˜¯å¦ç¬¦åˆæœŸå¾…ã€å‘ˆç¾æ–¹å¼æ˜¯å¦è®“äººèˆ’æœã€‚"], dim:"TF"},
Â  Â  // ä¿®å¾©äº†é¡Œè™Ÿ 15 çš„ç‰©ä»¶çµæ§‹éŒ¯èª¤
Â  Â  {q:"15. å®Œæˆä¸€å€‹ä»»å‹™å¾Œï¼Œä½ æ¯”è¼ƒåœ¨ä¹ï¼Ÿ", a:["A. æ•ˆç‡ã€æˆæœæ˜¯å¦é”æ¨™ã€‚", "B. éç¨‹æœ‰æ²’æœ‰èˆ’æœã€é—œä¿‚æ˜¯å¦é †åˆ©ã€‚"], dim:"TF"},

Â  Â  // J/P é¡Œçµ„ (5 é¡Œ)
Â  Â  {q:"16. ä½ å°æ–¼è¡Œç¨‹å®‰æ’çš„åå¥½ï¼Ÿ", a:["A. å–œæ­¡æå‰æ’å¥½ï¼ŒçŸ¥é“æ¥ä¸‹ä¾†æœƒç™¼ç”Ÿä»€éº¼ã€‚", "B. ä¿æŒå½ˆæ€§ï¼Œè¦–ç•¶ä¸‹ç‹€æ³èª¿æ•´æœ€èˆ’æœã€‚"], dim:"JP"},
Â  Â  {q:"17. åšå°ˆæ¡ˆæ™‚ï¼Œä½ çš„ç¿’æ…£æ˜¯ï¼Ÿ", a:["A. å…ˆè¦åŠƒæ­¥é©Ÿã€è¨‚æ™‚é–“ï¼ŒæŒ‰è¨ˆç•«å®Œæˆã€‚", "B. å…ˆé–‹å§‹åšï¼Œå†ä¸€é‚Šèª¿æ•´ã€ä¸€é‚Šç™¼å±•ã€‚"], dim:"JP"},
Â  Â  {q:"18. é¢å°çªç„¶çš„æ”¹è®Šï¼Œä½ é€šå¸¸ï¼Ÿ", a:["A. æœƒè¦ºå¾—è¢«æ‰“äº‚ï¼Œéœ€è¦æ™‚é–“é‡æ–°å®‰æ’ã€‚", "B. å¾ˆå¿«è½‰æ›æ–¹å‘ï¼Œè¦ºå¾—è®ŠåŒ–ä¸éŒ¯ä¹Ÿå¯æ¥å—ã€‚"], dim:"JP"},
Â  Â  {q:"19. æº–å‚™æ—…è¡Œå‰ï¼Œä½ é€šå¸¸ï¼Ÿ", a:["A. åˆ—æ¸…å–®ã€ç¢ºèªè¨‚æˆ¿æ™‚é–“ã€æº–å‚™å¥½æ‰€æœ‰ç´°ç¯€ã€‚", "B. æ‰“åŒ…å¿…è¦ç‰©å“å³å¯ï¼Œåˆ°ç•¶åœ°å†çœ‹æƒ…æ³èª¿æ•´ã€‚"], dim:"JP"},
Â  Â  {q:"20. æœ‹å‹è‡¨æ™‚ç´„ä½ å‡ºé–€ï¼Ÿ", a:["A. æƒ³æå‰çŸ¥é“æ´»å‹•å…§å®¹æ‰èƒ½æ±ºå®šã€‚", "B. æ²’å·®ï¼Œå¯ä»¥é‚Šèµ°é‚Šæ±ºå®šåšä»€éº¼ã€‚"], dim:"JP"}
];
Â  Â Â 
const mbtiData = {
Â  Â  "ISTJ":"åš´è¬¹ã€æœ‰ç´€å¾‹ï¼Œåå¥½è¨ˆç•«æ€§äº¤æ˜“ï¼Œè¿½æ±‚å®‰å…¨ç©©å®šã€‚",
Â  Â  "ISFJ":"è¬¹æ…ã€ç´°å¿ƒï¼Œæœƒä»”ç´°åˆ†æå¸‚å ´è³‡è¨Šï¼Œé¿å…è¡å‹•æ“ä½œã€‚",
Â  Â  "INFJ":"å‰ç»æ€§å¼·ï¼Œæ³¨é‡ç­–ç•¥èˆ‡é¢¨éšªæ§åˆ¶ï¼Œå–œæ­¡æ·±å…¥ç ”ç©¶å¸‚å ´è¶¨å‹¢ã€‚",
Â  Â  "INTJ":"ç­–ç•¥å‹æ€ç¶­ï¼Œå–„æ–¼åˆ¶å®šé•·æœŸäº¤æ˜“è¨ˆç•«ï¼Œæ³¨é‡æ•ˆç‡èˆ‡é¢¨éšªç®¡ç†ã€‚",
Â  Â  "ISTP":"éˆæ´»ã€å¯¦éš›ï¼Œå–œæ­¡å³æ™‚åæ‡‰å¸‚å ´è®ŠåŒ–ï¼Œåå¥½çŸ­ç·šæ“ä½œã€‚",
Â  Â  "ISFP":"ä¿å®ˆã€ç©©å®šï¼Œæ³¨é‡ç›´è¦ºèˆ‡æ„Ÿå—ï¼Œå–œæ­¡ä½é¢¨éšªäº¤æ˜“ã€‚",
Â  Â  "INFP":"ç†æƒ³ä¸»ç¾©ã€ç¨ç«‹æ€è€ƒï¼Œå–œæ­¡æ¢ç´¢æ–°å¸‚å ´æˆ–æ–°ç­–ç•¥ã€‚",
Â  Â  "INTP":"åˆ†æèƒ½åŠ›å¼·ï¼Œå–œæ­¡ç ”ç©¶è¤‡é›œæ•¸æ“šèˆ‡ç­–ç•¥ï¼Œè¿½æ±‚å‰µæ–°äº¤æ˜“æ–¹æ³•ã€‚",
Â  Â  "ESTP":"è¡Œå‹•æ´¾ï¼Œå¿«é€Ÿåˆ¤æ–·å¸‚å ´è¨Šè™Ÿï¼Œåå¥½å³æ™‚äº¤æ˜“æˆ–æ³¢æ®µæ“ä½œã€‚",
Â  Â  "ESFP":"å¤–å‘ã€éˆæ´»ï¼Œå–œæ­¡è·Ÿå¸‚å ´äº’å‹•ï¼Œåå¥½æ³¢æ®µèˆ‡çŸ­ç·šæ“ä½œã€‚",
Â  Â  "ENFP":"å‰µæ„åè¶³ï¼Œå–„æ–¼æ•æ‰æ–°èˆˆå¸‚å ´æ©Ÿæœƒï¼Œå–œæ­¡å¤šå…ƒç­–ç•¥ã€‚",
Â  Â  "ENTP":"æ©Ÿæ™ºã€å¥½æŒ‘æˆ°ï¼Œå–œæ­¡å‰µæ–°äº¤æ˜“å·¥å…·èˆ‡è¡ç”Ÿæ€§å•†å“æ“ä½œã€‚",
Â  Â  "ESTJ":"æ¶æ§‹æ¸…æ™°ï¼Œå–„æ–¼è¦åŠƒï¼Œåå¥½è—ç±Œã€ç©©å¥å‹äº¤æ˜“ã€‚",
Â  Â  "ESFJ":"ç¤¾äº¤å‹ï¼Œæœƒåƒè€ƒä»–äººè³‡è¨Šèˆ‡å¸‚å ´æ°›åœï¼Œå‚¾å‘ä¿å®ˆæ“ä½œã€‚",
Â  Â  "ENFJ":"ç­–ç•¥å‹é ˜å°ï¼Œæœƒç¶œåˆè³‡è¨Šæ±ºç­–ï¼Œå–œæ­¡åˆ†æ•£å¸ƒå±€é™ä½é¢¨éšªã€‚",
Â  Â  "ENTJ":"æœæ–·ã€ç›®æ¨™å°å‘ï¼Œå–œæ­¡ç³»çµ±åŒ–åˆ†æï¼Œå–„æ–¼æŒæ§äº¤æ˜“ç¯€å¥ã€‚"
};

let current=0;
let answers=[];
let myPieChart = null; // æ–°å¢ï¼šç”¨æ–¼å„²å­˜ Chart å¯¦ä¾‹

function startQuiz(){
Â  Â  // æª¢æŸ¥ questions é™£åˆ—æ˜¯å¦è¼‰å…¥æˆåŠŸ
Â  Â  if (questions.length === 0) {
Â  Â  Â  Â  alert("æ¸¬é©—é¡Œç›®è¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¨‹å¼ç¢¼ï¼");
Â  Â  Â  Â  return;
Â  Â  }
Â  Â  document.getElementById("start-screen").style.display="none";
Â  Â  document.getElementById("quiz").style.display="block";
Â  Â  showQuestion();
}

function showQuestion(){
Â  Â  const q=questions[current];
Â  Â  document.getElementById("question-text").textContent=q.q;
Â  Â  const optionsDiv=document.getElementById("options");
Â  Â  optionsDiv.innerHTML="";
Â  Â  q.a.forEach((opt,index)=>{
Â  Â  Â  Â  const btn=document.createElement("button");
Â  Â  Â  Â  // è®“é¸é …é¡¯ç¤º A./B.
Â  Â  Â  Â  btn.textContent=opt;
Â  Â  Â  Â  
Â  Â  Â  Â  // ä¿®æ­£ï¼šå¦‚æœå·²ç¶“é¸æ“‡éï¼Œå‰‡åŠ ä¸Šé¸ä¸­æ¨£å¼
Â  Â  Â  Â  if(answers[current] === index) {
Â  Â  Â  Â  Â  Â  btn.style.backgroundColor = '#2c3e50';
Â  Â  Â  Â  }
Â  Â  Â  Â  btn.onclick=()=>selectAnswer(index);
Â  Â  Â  Â  optionsDiv.appendChild(btn);
Â  Â  });
Â  Â  document.getElementById("prev-btn").style.display = current>0?"inline-block":"none";
Â  Â  document.getElementById("next-btn").style.display="none";
Â  Â  updateProgress();
}

function selectAnswer(choice){
Â  Â  answers[current]=choice;
Â  Â  // ä¿®æ­£ï¼šæ›´æ–°æŒ‰éˆ•ç‹€æ…‹
Â  Â  document.querySelectorAll('#options button').forEach((btn, index) => {
Â  Â  Â  Â  btn.style.backgroundColor = index === choice ? '#2c3e50' : '#3498db';
Â  Â  });

Â  Â  // å¦‚æœæ˜¯æœ€å¾Œä¸€é¡Œï¼Œç›´æ¥é¡¯ç¤ºçµæœ
Â  Â  if(current===questions.length-1){
Â  Â  Â  Â  showResult();
Â  Â  }
Â  Â  // å¦å‰‡ï¼Œå»¶é²å¾Œè·³ä¸‹ä¸€é¡Œ
Â  Â  setTimeout(()=>{
Â  Â  Â  Â  if(current < questions.length-1){
Â  Â  Â  Â  Â  Â  current++;
Â  Â  Â  Â  Â  Â  showQuestion();
Â  Â  Â  Â  }
Â  Â  }, 200); // å»¶é² 200 æ¯«ç§’
}

function prevQuestion(){
Â  Â  if(current>0){
Â  Â  Â  Â  current--;
Â  Â  Â  Â  showQuestion();
Â  Â  }
}

function nextQuestion(){
Â  Â  if(current<questions.length-1){
Â  Â  Â  Â  current++;
Â  Â  Â  Â  showQuestion();
Â  Â  }
}

function updateProgress(){
Â  Â  const percent=Math.round(((current+1)/questions.length)*100);
Â  Â  const progressBar=document.getElementById("progress");
Â  Â  progressBar.style.width=percent+"%";
Â  Â  progressBar.textContent=percent+"%";
}

function showResult(){
Â  Â  document.getElementById("quiz").style.display="none";
Â  Â  const resDiv=document.getElementById("result");
Â  Â  resDiv.style.display="block";

Â  Â  // è¨ˆç®—å„ç¶­åº¦åˆ†æ•¸
Â  Â  const dims = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
Â  Â  questions.forEach((q,i)=>{
Â  Â  Â  Â  // ç¢ºä¿å•é¡Œæœ‰è¢«å›ç­”
Â  Â  Â  Â  if(answers[i] !== undefined) {
Â  Â  Â  Â  Â  Â  const val = answers[i];
Â  Â  Â  Â  Â  Â  // A é¸é … (index 0) å°æ‡‰ç¬¬ä¸€å€‹å­—æ¯ (E, S, T, J)
Â  Â  Â  Â  Â  Â  switch(q.dim){
Â  Â  Â  Â  Â  Â  Â  Â  case "EI": val===0?dims.E++:dims.I++; break;
Â  Â  Â  Â  Â  Â  Â  Â  case "SN": val===0?dims.S++:dims.N++; break;
Â  Â  Â  Â  Â  Â  Â  Â  case "TF": val===0?dims.T++:dims.F++; break;
Â  Â  Â  Â  Â  Â  Â  Â  case "JP": val===0?dims.J++:dims.P++; break;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  });

Â  Â  const mbti =
Â  Â  Â  Â  (dims.E>=dims.I?"E":"I") +
Â  Â  Â  Â  (dims.S>=dims.N?"S":"N") +
Â  Â  Â  Â  (dims.T>=dims.F?"T":"F") +
Â  Â  Â  Â  (dims.J>=dims.P?"J":"P");

Â  Â  document.getElementById("mbti-type").textContent="ä½ çš„ MBTI: "+mbti;
Â  Â  document.getElementById("mbti-desc").textContent=mbtiData[mbti];

Â  Â  // --- åœ“é¤…åœ–/é•·æ¢åœ–è¨ˆç®—é‚è¼¯ (æ ¹æ“š 20 é¡Œçš„ç¶­åº¦åˆ†å¸ƒç¸½åˆ†è¨ˆç®—ç™¾åˆ†æ¯” - æ¯çµ„çš†ç‚º 5 é¡Œ) ---
Â  Â  if(myPieChart) {
Â  Â  Â  Â  myPieChart.destroy(); // éŠ·æ¯€èˆŠåœ–è¡¨ï¼Œé¿å…é‡è¤‡æ¸²æŸ“å•é¡Œ
Â  Â  }

Â  Â  // å„ç¶­åº¦çš„ç¸½é¡Œæ•¸ï¼šEI: 5, SN: 5, TF: 5, JP: 5 (ç¸½å…± 20 é¡Œ)
Â  Â  const totalEI = 5;Â 
Â  Â  const totalSN = 5;Â 
Â  Â  const totalTF = 5;Â 
Â  Â  const totalJP = 5;Â 

Â  Â  // è¨ˆç®— I, N, F, P çš„ç™¾åˆ†æ¯” (I/E+I, N/S+N, F/T+F, P/J+P)
Â  Â  const pieData = [
Â  Â  Â  Â  totalEI > 0 ? Math.round((dims.I / totalEI) * 100) : 50, // I
Â  Â  Â  Â  totalSN > 0 ? Math.round((dims.N / totalSN) * 100) : 50, // N
Â  Â  Â  Â  totalTF > 0 ? Math.round((dims.F / totalTF) * 100) : 50, // F
Â  Â  Â  Â  totalJP > 0 ? Math.round((dims.P / totalJP) * 100) : 50, // P
Â  Â  ];

Â  Â  const ctx=document.getElementById("pieChart").getContext("2d");
Â  Â  myPieChart = new Chart(ctx,{ // å„²å­˜æ–°çš„ Chart å¯¦ä¾‹
Â  Â  Â  Â  type:'pie',
Â  Â  Â  Â  data:{
Â  Â  Â  Â  Â  Â  labels:['å…§å‘ (I)','ç›´è¦º (N)','æƒ…æ„Ÿ (F)','çŸ¥è¦º (P)'],
Â  Â  Â  Â  Â  Â  datasets:[{
Â  Â  Â  Â  Â  Â  Â  Â  data:pieData,
Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor:['#2980b9','#27ae60','#f39c12','#d35400'] // å°æ‡‰ I N F P é¡è‰²
Â  Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  },
Â  Â  Â  Â  options:{
Â  Â  Â  Â  Â  Â  responsive:true,
Â  Â  Â  Â  Â  Â  maintainAspectRatio: false,Â 
Â  Â  Â  Â  Â  Â  plugins:{
Â  Â  Â  Â  Â  Â  Â  Â  legend:{position:'bottom'},
Â  Â  Â  Â  Â  Â  Â  Â  tooltip:{callbacks:{label:function(context){return context.label+": "+context.raw+"%";}}}
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  animation:{animateScale:true, animateRotate:true, duration:1500}
Â  Â  Â  Â  }
Â  Â  });

Â  Â  // åœ–è¡¨è§£èªª
Â  Â  const descDiv = document.getElementById("chart-desc");
Â  Â  const labels = ['E/I','S/N','T/F','J/P'];
Â  Â  const meanings = [
Â  Â  Â  Â  'E/I: å¤–å‘ (E) / å…§å‘ (I)',
Â  Â  Â  Â  'S/N: æ„Ÿè¦º (S) / ç›´è¦º (N)',
Â  Â  Â  Â  'T/F: æ€è€ƒ (T) / æƒ…æ„Ÿ (F)',
Â  Â  Â  Â  'J/P: åˆ¤æ–· (J) / çŸ¥è¦º (P)'
Â  Â  ];
Â  Â  let html = "<h3>åœ–è¡¨è§£èªªï¼ˆæ¯”ä¾‹é¡¯ç¤ºå¦‚ä¸‹ï¼‰ï¼š</h3><ul>";
Â  Â  labels.forEach((label,i)=>{
Â  Â  Â  Â  html += `<li><b>${label}</b> (${meanings[i]})</li>`;
Â  Â  });
Â  Â  html += "</ul>";
Â  Â  descDiv.innerHTML = html;

Â  Â  // --- æ©«å‘æ¢å½¢åœ–ä¿®æ­£ START ---
Â  Â  const barsDiv = document.getElementById("chart-bars");
Â  Â  barsDiv.innerHTML="";
Â  Â  const horizontalPairs = [['E','I'], ['S','N'], ['T','F'], ['J','P']];
Â  Â  const colors = {E:'#3498db', I:'#2980b9', S:'#2ecc71', N:'#27ae60', T:'#f1c40f', F:'#f39c12', J:'#e67e22', P:'#d35400'};
Â  Â  horizontalPairs.forEach(([a,b])=>{
Â  Â  Â  Â  const total = dims[a]+dims[b];
Â  Â  Â  Â  const aPct = total>0 ? Math.round((dims[a]/total)*100) : 50;
Â  Â  Â  Â  const bPct = 100 - aPct;

Â  Â  Â  Â  const labelDiv = document.createElement("div");
Â  Â  Â  Â  labelDiv.className="bar-label";
Â  Â  Â  Â  labelDiv.textContent = `${a}: ${aPct}%Â  Â ${b}: ${bPct}%`;
Â  Â  Â  Â  barsDiv.appendChild(labelDiv);

Â  Â  Â  Â  const bar = document.createElement("div");
Â  Â  Â  Â  bar.className="bar-container";

Â  Â  Â  Â  const barA = document.createElement("div");
Â  Â  Â  Â  barA.className="bar-segment";
Â  Â  Â  Â  barA.style.width = aPct + "%"; barA.style.backgroundColor = colors[a];
Â  Â  Â  Â  barA.innerHTML = aPct > 10 ? `<span>${a}</span>` : '';Â 

Â  Â  Â  Â  const barB = document.createElement("div");
Â  Â  Â  Â  barB.className="bar-segment";
Â  Â  Â  Â  barB.style.width = bPct + "%"; barB.style.backgroundColor = colors[b];
Â  Â  Â  Â  barB.innerHTML = bPct > 10 ? `<span>${b}</span>` : '';Â 

Â  Â  Â  Â  bar.appendChild(barA); bar.appendChild(barB);
Â  Â  Â  Â  barsDiv.appendChild(bar);
Â  Â  });
Â  Â  // --- æ©«å‘æ¢å½¢åœ–ä¿®æ­£ END ---

Â  Â  // æŠ•è³‡äººæ ¼åˆ†æï¼šæ ¹æ“šMBTIçµæœï¼Œé¡¯ç¤ºç›¸æ‡‰çš„åˆ†æ
Â  Â  const analysisGroups = document.querySelectorAll('#investment-analysis .analysis-group');
Â  Â  analysisGroups.forEach(group => {
Â  Â  Â  Â  const mbtiTypes = group.getAttribute('data-mbti').split(',');
Â  Â  Â  Â  if (mbtiTypes.includes(mbti)) {
Â  Â  Â  Â  Â  Â  group.style.display = 'block';Â 
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  group.style.display = 'none';Â 
Â  Â  Â  Â  }
Â  Â  });

}

// æŒ‰éˆ•åŠŸèƒ½
function restartQuiz(){
Â  Â  // é‡æ–°è¼‰å…¥å‰å…ˆæ¸…ç† Chart å¯¦ä¾‹
Â  Â  if(myPieChart) {
Â  Â  Â  Â  myPieChart.destroy();
Â  Â  Â  Â  myPieChart = null;
Â  Â  }
Â  Â  location.reload();
}

function downloadResult(){
Â  Â  // ç¢ºä¿ html2canvas å·²è¼‰å…¥
Â  Â  if (typeof html2canvas === 'function') {
Â  Â  Â  Â  html2canvas(document.getElementById("result")).then(canvas=>{
Â  Â  Â  Â  Â  Â  const link = document.createElement("a");
Â  Â  Â  Â  Â  Â  link.download = "MBTI_Result.png";
Â  Â  Â  Â  Â  Â  link.href = canvas.toDataURL();
Â  Â  Â  Â  Â  Â  link.click();
Â  Â  Â  Â  });
Â  Â  } else {
Â  Â  Â  Â  alert("ä¸‹è¼‰åŠŸèƒ½éœ€è¦ html2canvas è…³æœ¬æ”¯æ´ï¼Œè«‹ç¢ºèªè…³æœ¬å·²æ­£ç¢ºè¼‰å…¥ã€‚");
Â  Â  }
}


// æ ¸å¿ƒä¿®å¾©ï¼šä½¿ç”¨ LINE@ ID å‚³é€å¸¶æœ‰æ¸¬é©—çµæœçš„è¨Šæ¯
function openLine() { 
Â  Â  // æ‚¨çš„ LINE@ ID
Â  Â  const LINE_AT_ID = "@cs6005"; 

Â  Â  // 1. å–å¾—æ¸¬é©—çµæœ
Â  Â  const mbtiType = document.getElementById("mbti-type").textContent; 
Â  Â  const mbtiDesc = document.getElementById("mbti-desc").textContent; 

Â  Â  // 2. çµ„åˆæ‚¨å¸Œæœ›å‚³é€çš„è¨Šæ¯ï¼ˆä½¿ç”¨ \n æ›è¡Œç¬¦è™Ÿï¼‰
Â  Â  const rawMessage = `ã€ç¾¤ç›ŠæŠ•è³‡äººæ ¼æ¸¬é©—çµæœã€‘\n\n${mbtiType}\n${mbtiDesc}\n\næˆ‘æƒ³æ´½è©¢å°ˆå±¬æŠ•è³‡å»ºè­°ï¼Œè«‹èˆ‡æˆ‘è¯ç¹«ã€‚`;

Â  Â  // 3. å°‡è¨Šæ¯å…§å®¹é€²è¡Œ URI ç·¨ç¢¼
Â  Â  const encodedMessage = encodeURIComponent(rawMessage);

Â  Â  // 4. å»ºæ§‹ LINE å®˜æ–¹å¸³è™Ÿå¸¶è¨Šæ¯çš„ URL Scheme
Â  Â  const lineLink = `https://line.me/R/oaMessage/${LINE_AT_ID}/${encodedMessage}`;
Â  Â  
Â  Â  // 5. é–‹å•Ÿé€£çµ
Â  Â  window.open(lineLink, "_blank");
}


// åˆå§‹åŒ–ï¼šä¸€é–‹å§‹æ‰€æœ‰åˆ†æå€å¡Šæ‡‰ç‚ºéš±è—
document.addEventListener('DOMContentLoaded', () => {
Â  Â  document.querySelectorAll('#investment-analysis .analysis-group').forEach(group => {
Â  Â  Â  Â  group.style.display = 'none';
Â  Â  });
});
</script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</body>
</html>
